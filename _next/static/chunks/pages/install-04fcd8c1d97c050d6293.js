_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{KFYT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/install",function(){return n("nKEB")}])},nKEB:function(e,t,n){"use strict";n.r(t);var a=n("nKUr"),r=n("cpVT"),o=n("q1tI"),c=n.n(o),s=n("YFqc"),i=n.n(s),l=n("g4pe"),p=n.n(l);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=c.a.createContext({}),g=function(e){var t=c.a.useContext(b),n=t;return e&&(n="function"===typeof e?e(t):f(f({},t),e)),n},h=function(e){var t=g(e.components);return c.a.createElement(b.Provider,{value:t},e.children)},O={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},y=c.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),i=g(n),l=a,p=i["".concat(o,".").concat(l)]||i[l]||O[l]||r;return n?c.a.createElement(p,f(f({ref:t},s),{},{components:n})):c.a.createElement(p,f({ref:t},s))}));function N(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var r=n.length,o=new Array(r);o[0]=y;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"===typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return c.a.createElement.apply(null,o)}return c.a.createElement.apply(null,n)}y.displayName="MDXCreateElement";var j=n("FXjv"),v=n("v3sT");var w={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},k=n("xyuB");function x(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={};function D(e){var t=e.components,n=x(e,["components"]);return N("wrapper",T(T(T({},E),n),{},{components:t,mdxType:"MDXLayout"}),N("h1",null,"Installing \xfcWave"),N("blockquote",null,N("p",{parentName:"blockquote"},N("strong",{parentName:"p"},"Warning!")," Not everything described on this page is ready just yet.\nIn the mean time, please visit the ",N("a",T({parentName:"p"},{href:"https://gitter.im/u-wave/Lobby"}),"Gitter")," or the #uwave channel in the ",N("a",T({parentName:"p"},{href:"https://slack.wlk.yt"}),"WLK Slack")," for updates.")),N("p",null,"This page describes how to install \xfcWave from scratch using the ",N("a",T({parentName:"p"},{href:"/cli"}),"\xfcWave CLI"),".\nThis is aimed at a production environment\u2014for a development installation, check out the ",N("a",T({parentName:"p"},{href:"/web"}),"\xfcWave Web Client")," documentation.\nIf you run into trouble, try visiting the ",N("a",T({parentName:"p"},{href:"https://gitter.im/u-wave/Lobby"}),"Gitter")," chat room!"),N("h2",null,"Dependencies"),N("p",null,"To run \xfcWave, you need a server with:"),N("ul",null,N("li",{parentName:"ul"},"Node.js"),N("li",{parentName:"ul"},"MongoDB - ",N("a",T({parentName:"li"},{href:"https://docs.mongodb.com/manual/administration/install-community/"}),"Install instructions")),N("li",{parentName:"ul"},"Redis")),N("h3",null,"Ubuntu 20.04"),N("p",null,"On Ubuntu 20.04, the following commands will install everything we need:"),N("pre",T({},{className:"language-bash"}),N("code",T({parentName:"pre"},{className:"language-bash"}),N("span",T({parentName:"code"},{className:"token builtin class-name"}),"echo")," ",N("span",T({parentName:"code"},{className:"token string"}),'"deb http://repo.mongodb.org/apt/ubuntu focal/mongodb-org/4.4 multiverse"')," ",N("span",T({parentName:"code"},{className:"token punctuation"}),"\\"),"\n  ",N("span",T({parentName:"code"},{className:"token operator"}),"|")," ",N("span",T({parentName:"code"},{className:"token function"}),"sudo")," ",N("span",T({parentName:"code"},{className:"token function"}),"tee")," /etc/apt/sources.list.d/mongodb-org-4.4.list\n",N("span",T({parentName:"code"},{className:"token function"}),"curl")," -sL https://deb.nodesource.com/setup_12.x ",N("span",T({parentName:"code"},{className:"token operator"}),"|")," ",N("span",T({parentName:"code"},{className:"token function"}),"sudo")," -E ",N("span",T({parentName:"code"},{className:"token function"}),"bash")," -\n\n",N("span",T({parentName:"code"},{className:"token function"}),"sudo")," ",N("span",T({parentName:"code"},{className:"token function"}),"apt-get")," update\n",N("span",T({parentName:"code"},{className:"token function"}),"sudo")," ",N("span",T({parentName:"code"},{className:"token function"}),"apt-get")," ",N("span",T({parentName:"code"},{className:"token function"}),"install")," -y build-essential mongodb-org nodejs redis-server\n")),N("h2",null,"Install"),N("blockquote",null,N("p",{parentName:"blockquote"},N("strong",{parentName:"p"},"TODO")," This should be rewritten to use systemd instead.")),N("p",null,"We will use the ",N("inlineCode",{parentName:"p"},"pm2")," tool to manage the \xfcWave server process and logging, and we will use the \xfcWave CLI to configure the server."),N("p",null,"With ",N("inlineCode",{parentName:"p"},"npm")," do:"),N("pre",T({},{className:"language-bash"}),N("code",T({parentName:"pre"},{className:"language-bash"}),N("span",T({parentName:"code"},{className:"token function"}),"npm")," ",N("span",T({parentName:"code"},{className:"token function"}),"install")," --global pm2 u-wave-cli\n")),N("p",null,"Next, we will install the ",N("inlineCode",{parentName:"p"},"logrotate")," module for ",N("inlineCode",{parentName:"p"},"pm2"),", which automatically archives log files by date.\nThat way log files don't grow to many hundreds of MBs."),N("pre",T({},{className:"language-bash"}),N("code",T({parentName:"pre"},{className:"language-bash"}),"pm2 ",N("span",T({parentName:"code"},{className:"token function"}),"install")," pm2-logrotate\n")),N("blockquote",null,N("p",{parentName:"blockquote"},N("strong",{parentName:"p"},"TODO")," This should be written when the new server and web client alphas are released.")),N("p",null,"Now we will start the configuration of the \xfcWave server itself.\nThe CLI will ask some questions about the necessary databases, API keys and administrator account credentials."),N("pre",T({},{className:"language-bash"}),N("code",T({parentName:"pre"},{className:"language-bash"}),"u-wave init\n")))}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}D.isMDXComponent=!0;var I=Object(k.a)({Link:i.a}),_=Object(j.a)((function(e){return{content:Object(r.a)({maxWidth:1024,margin:"auto",color:"#000",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(6),paddingTop:e.spacing(6)+56},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)})}})),L=Object(j.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.main,"&:hover":{color:e.palette.primary.light}},alert:{margin:0,padding:"12px 16px 12px 24px",background:w[200],borderLeft:"3px solid ".concat(w[600])}}}));var q={a:function(e){var t=L();return Object(a.jsx)("a",C({className:t.link},e))},blockquote:function(e){var t=e.children,n=L();return Object(a.jsx)("blockquote",{className:n.alert,children:t})},p:function(e){return Object(a.jsx)(v.a,C({variant:"body1"},e))},h1:function(e){return Object(a.jsx)(v.a,C({variant:"h1"},e))},h2:function(e){return Object(a.jsx)(v.a,C({variant:"h2"},e))},h3:function(e){return Object(a.jsx)(v.a,C({variant:"h3"},e))},h4:function(e){return Object(a.jsx)(v.a,C({variant:"h4"},e))},h5:function(e){return Object(a.jsx)(v.a,C({variant:"h5"},e))}};t.default=I((function(){var e=_();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{children:Object(a.jsx)("title",{children:"\xfcWave \xb7 Install"})}),Object(a.jsx)(h,{components:q,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(D,{})})})]})}))}},[["KFYT",0,2,1,3]]]);